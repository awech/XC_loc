

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Usage overview &mdash; XC_loc 1.0.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Tutorial" href="tutorial.html" />
    <link rel="prev" title="2. enveloc Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> XC_loc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. enveloc Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Usage overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#seismic-data">3.1. Seismic Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#velocity-model">3.2. Velocity Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grid">3.3. Grid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">4. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">5. Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="xcor.html">6. <em>XCOR</em> object</a></li>
<li class="toctree-l1"><a class="reference internal" href="event_list.html">7. <em>event_list</em> object</a></li>
<li class="toctree-l1"><a class="reference internal" href="detections.html">8. <em>detections</em> object</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">XC_loc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">3. </span>Usage overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage-overview">
<h1><span class="section-number">3. </span>Usage overview<a class="headerlink" href="#usage-overview" title="Permalink to this headline">¶</a></h1>
<p><em>enveloc</em> uses <a href="https://docs.obspy.org/" target="_blank">Obspy</a> for handling and manipulating seismic data and metadata. Before using <em>enveloc</em>
I strongly recommend familiarizing yourself with Obspy.</p>
<p>At its most basic level <em>enveloc</em> needs 3 things, ordered by importance:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Seismic data</p></li>
<li><p>A velocity model</p></li>
<li><p>A 3D grid</p></li>
</ol>
</div></blockquote>
<div class="section" id="seismic-data">
<span id="id1"></span><h2><span class="section-number">3.1. </span>Seismic Data<a class="headerlink" href="#seismic-data" title="Permalink to this headline">¶</a></h2>
<p>Seismic data is input as an <a href="https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html" target="_blank">Obspy Stream</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Data must be pre-processed into envelopes <strong>externally</strong> before being input to <em>enveloc</em>. There were too
many unknowns to standardize this within <em>enveloc</em>. Each application has different needs, and each
user has preferred methods of filtering, etc.</p>
</div>
<p>Assuming you have a Stream of data, <em>st</em>, read from <em>IRIS</em> or <em>mseed</em> or wherever, here is an example
pre-processing from raw data into envelope data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">obspy.signal.filter</span> <span class="kn">import</span> <span class="n">envelope</span>

<span class="n">DT</span> <span class="o">=</span> <span class="mi">10</span>       <span class="c1"># seconds of padding</span>
<span class="n">FREQMIN</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1"># minimum frequency</span>
<span class="n">FREQMAX</span> <span class="o">=</span> <span class="mf">8.0</span> <span class="c1"># maximum frequency</span>
<span class="n">LOWPASS</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="c1"># lowpass for envelope smoothing</span>

<span class="c1"># filter raw waveforms</span>
<span class="n">st</span><span class="o">.</span><span class="n">detrend</span><span class="p">(</span><span class="s1">&#39;demean&#39;</span><span class="p">)</span>
<span class="n">st</span><span class="o">.</span><span class="n">taper</span><span class="p">(</span><span class="n">max_percentage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># taper 5 seconds off each end</span>
<span class="n">st</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s1">&#39;bandpass&#39;</span><span class="p">,</span><span class="n">freqmin</span><span class="o">=</span><span class="n">FREQMIN</span><span class="p">,</span><span class="n">freqmax</span><span class="o">=</span><span class="n">FREQMAX</span><span class="p">,</span><span class="n">corners</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">zerophase</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># convert waveforms envelopes</span>
<span class="n">st</span><span class="o">.</span><span class="n">detrend</span><span class="p">(</span><span class="s1">&#39;demean&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
        <span class="c1"># downsample for efficiency</span>
        <span class="n">tr</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="mf">25.0</span><span class="p">)</span>
        <span class="c1"># convert to even number of samples for speed</span>
        <span class="k">if</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">npts</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">tr</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">starttime</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span><span class="n">endtime</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">endtime</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">sampling_rate</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">tr</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">envelope</span><span class="p">(</span><span class="n">tr</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="c1"># downsample envelope</span>
        <span class="n">tr</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>                <span class="c1"># downsample to 5 sps</span>

<span class="c1"># smooth the envelope</span>
<span class="n">st</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s1">&#39;lowpass&#39;</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="n">LOWPASS</span><span class="p">)</span>

<span class="c1"># trim to remove taper effects</span>
<span class="n">st</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">starttime</span><span class="o">+</span><span class="n">DT</span><span class="p">,</span><span class="n">st</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">endtime</span><span class="o">-</span><span class="n">DT</span><span class="p">)</span>
</pre></div>
</div>
<p>Data can either be a small window surrounding a signal of interest or a longer timeseries to be internally
processed as many smaller windows.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If you are trying to locate a single window, make sure to trim off any edge effects, such as a pre-filter taper,
prior to inputing the Stream into <em>enveloc</em>. If all the envelope traces taper to zero on either side, the signal
will look like a box function and things will correlate well and with zero lag, resulting in erroneous locations
in the center of the network.</p></li>
<li><p>Be careful not to make the window length too small. In general the window length should be longer than the largest
predicted differential travel time between all station pairs for all grid nodes. That way you can appropriately
shift by at least that much during the cross correlation. Internal checks try and force this to be the case, but
I’ve never been fully satisfied with their implementation.</p></li>
</ol>
</div>
<p>Each <a href="https://docs.obspy.org/packages/autogen/obspy.core.trace.Trace.html" target="_blank">Trace</a>, tr, within the Stream object must also contain its associated latitude and longitude (in decimal degrees)
in the form of an Obspy AttribDict named ‘<em>coordinates</em>’, which itself is a key for Trace’s AttribDict ‘<em>stats</em>’. This could
be extracted from an <em>inventory</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">obspy.clients.fdsn</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">obspy.core.util</span> <span class="kn">import</span> <span class="n">AttribDict</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s1">&#39;IRIS&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
    <span class="n">inventory</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_stations</span><span class="p">(</span> <span class="n">network</span>   <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
                                     <span class="n">station</span>   <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">station</span><span class="p">,</span>
                                     <span class="n">location</span>  <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
                                     <span class="n">channel</span>   <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">channel</span><span class="p">,</span>
                                     <span class="n">starttime</span> <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span>
                                     <span class="n">endtime</span>   <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">endtime</span> <span class="p">)</span>

    <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span>
                                       <span class="p">{</span> <span class="s1">&#39;latitude&#39;</span>  <span class="p">:</span> <span class="n">inventory</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
                                         <span class="s1">&#39;longitude&#39;</span> <span class="p">:</span> <span class="n">inventory</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
                                         <span class="s1">&#39;elevation&#39;</span> <span class="p">:</span> <span class="n">inventory</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">elevation</span> <span class="p">}</span>
                                     <span class="p">)</span>
</pre></div>
</div>
<p>or it could be input manually. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">obspy.core.util</span> <span class="kn">import</span> <span class="n">AttribDict</span>

<span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
    <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">(</span>
                                       <span class="p">{</span><span class="s1">&#39;latitude&#39;</span>  <span class="p">:</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                        <span class="s1">&#39;longitude&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                        <span class="s1">&#39;elevation&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">}</span>
                                     <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="velocity-model">
<span id="id2"></span><h2><span class="section-number">3.2. </span>Velocity Model<a class="headerlink" href="#velocity-model" title="Permalink to this headline">¶</a></h2>
<p>The velocity model is used to calculate traveltimes from each grid node to each station. Strictly speaking a
velocity model is not required as input in order for <em>enveloc</em> to run. If no model is provided, <em>enveloc</em> will run
using a default model, which is taken from <em>default_vel_model.tvel</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>default - P
default - S
   <span class="m">0</span>.000        <span class="m">5</span>.1572          <span class="m">2</span>.9775          <span class="m">2</span>.7200
   <span class="m">0</span>.050        <span class="m">5</span>.1572          <span class="m">2</span>.9775          <span class="m">2</span>.7200
   <span class="m">0</span>.050        <span class="m">5</span>.1573          <span class="m">2</span>.9773          <span class="m">2</span>.7200
   <span class="m">4</span>.000        <span class="m">5</span>.1573          <span class="m">2</span>.9773          <span class="m">2</span>.7200
   <span class="m">4</span>.000        <span class="m">5</span>.4491          <span class="m">3</span>.1461          <span class="m">2</span>.7200
  <span class="m">10</span>.000        <span class="m">5</span>.4491          <span class="m">3</span>.1461          <span class="m">2</span>.7200
  <span class="m">10</span>.000        <span class="m">6</span>.0330          <span class="m">3</span>.4831          <span class="m">2</span>.7200
  <span class="m">15</span>.000        <span class="m">6</span>.0330          <span class="m">3</span>.4831          <span class="m">2</span>.7200
  <span class="m">15</span>.000        <span class="m">6</span>.7141          <span class="m">3</span>.8764          <span class="m">2</span>.7200
  <span class="m">20</span>.000        <span class="m">6</span>.7141          <span class="m">3</span>.8764          <span class="m">2</span>.7200
  <span class="m">20</span>.000        <span class="m">7</span>.2007          <span class="m">4</span>.1573          <span class="m">2</span>.9000
  <span class="m">25</span>.000        <span class="m">7</span>.2007          <span class="m">4</span>.1573          <span class="m">2</span>.9000
  <span class="m">25</span>.000        <span class="m">7</span>.4926          <span class="m">4</span>.3258          <span class="m">2</span>.9000
  <span class="m">33</span>.000        <span class="m">7</span>.4926          <span class="m">4</span>.3258          <span class="m">2</span>.9000
  <span class="m">33</span>.000        <span class="m">7</span>.6872          <span class="m">4</span>.4382          <span class="m">3</span>.3000
  <span class="m">47</span>.000        <span class="m">7</span>.6872          <span class="m">4</span>.4382          <span class="m">3</span>.3000
  <span class="m">47</span>.000        <span class="m">7</span>.8818          <span class="m">4</span>.5506          <span class="m">3</span>.3000
  <span class="m">65</span>.000        <span class="m">7</span>.8818          <span class="m">4</span>.5506          <span class="m">3</span>.3000
  <span class="m">65</span>.000        <span class="m">8</span>.0764          <span class="m">4</span>.6629          <span class="m">3</span>.3000
  <span class="m">65</span>.000        <span class="m">8</span>.0764          <span class="m">4</span>.6629          <span class="m">3</span>.3000
 <span class="m">210</span>.000        <span class="m">8</span>.3000          <span class="m">4</span>.5180          <span class="m">3</span>.4258
 <span class="m">210</span>.000        <span class="m">8</span>.3000          <span class="m">4</span>.5220          <span class="m">3</span>.4258
 <span class="m">260</span>.000        <span class="m">8</span>.4825          <span class="m">4</span>.6090          <span class="m">3</span>.4561
<span class="m">6371</span>.000        <span class="m">8</span>.2000          <span class="m">4</span>.7000          <span class="m">3</span>.3198
</pre></div>
</div>
<p>The file has the structure:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>comment line - generally info about the P velocity model
comment line - generally info about the S velocity model
depth pVel sVel Density
depth pVel sVel Density
</pre></div>
</div>
<p>where velocities are assumed to be linear between sample points. Because this type of model file doesn’t give
complete information Obspy makes the following assumptions:</p>
<ul class="simple">
<li><p>modelname - from the filename, with ”.tvel” dropped if present</p></li>
<li><p>radius_of_planet - the largest depth in the model</p></li>
<li><p>meanDensity - 5517.0</p></li>
<li><p>G - 6.67e-11</p></li>
</ul>
<p>Alternatively, if you want to search using a constant velocity, like a surface wave velocity, you can
provide this constant as a variable to <em>enveloc</em>. In this case the default velocity model is used, but
only for ray-tracing purposes, and the actual velocity and resulting traveltimes are superseded by the
constant velocity provided. More details provided in <code class="xref py py-class docutils literal notranslate"><span class="pre">enveloc.XCOR</span></code> class (<a class="reference internal" href="xcor.html#xcor-class"><span class="std std-ref">XCOR object</span></a>).</p>
</div>
<div class="section" id="grid">
<span id="grid-section"></span><h2><span class="section-number">3.3. </span>Grid<a class="headerlink" href="#grid" title="Permalink to this headline">¶</a></h2>
<p>Providing a grid as input is optional, but strongly recommended. If no grid is provided, a
default grid is calculated based on the lat/lon extent of the input seismic stations. By
default, an evenly spaced 20 x 25 (lat x lon) grid is produced extending 33% beyond both
the minimum and maximum latitudinal and longitudinal footprint of the stations provided.
The vertical grid is 10 evenly spaced nodes spanning from 0 km to a maximum depth based on the
horizontal grid extent.</p>
<p>A grid can be provided as an input argument, <em>grid_size</em>, a dictionary with keys
‘<em>lats</em>’, ‘<em>lons</em>’, and ‘<em>deps</em>’, each of which are 1D monotonic numpy arrays. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid_size</span> <span class="o">=</span> <span class="p">{</span>
              <span class="s1">&#39;deps&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>           <span class="c1"># in km</span>
              <span class="s1">&#39;lons&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">158.4</span><span class="p">,</span><span class="o">-</span><span class="mf">157.9</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">),</span>
              <span class="s1">&#39;lats&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span>  <span class="mf">56.7</span><span class="p">,</span>  <span class="mf">57.1</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">)</span>
            <span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, <em>enveloc</em> can perform a grid search over a rotated grid. For this, you must provide
an input argument, <em>rotation</em>, a dictionary with keys ‘<em>x</em>’ (x grid nodes, in km), ‘<em>y</em>’ (y grid
nodes, in km), ‘<em>z</em>’ (depth grid nodes, in km), ‘<em>lat0</em>’ &amp; ‘<em>lon0</em>’ (origin lat/lon), ‘<em>az</em>’, rotation
azimuth (degrees counterclockwise from East). For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rotation</span> <span class="o">=</span> <span class="p">{</span>
             <span class="s1">&#39;x&#39;</span>    <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="c1"># in km</span>
             <span class="s1">&#39;y&#39;</span>    <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="c1"># in km</span>
             <span class="s1">&#39;z&#39;</span>    <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>   <span class="c1"># in km</span>
             <span class="s1">&#39;lat0&#39;</span> <span class="p">:</span> <span class="mf">56.919</span><span class="p">,</span>              <span class="c1"># origin latitude</span>
             <span class="s1">&#39;lon0&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">158.1737</span><span class="p">,</span>           <span class="c1"># origin longitude</span>
             <span class="s1">&#39;az&#39;</span>   <span class="p">:</span> <span class="mi">30</span>                   <span class="c1"># rotation, in degrees, counterclockwise from East</span>
           <span class="p">}</span>
</pre></div>
</div>
<p>This example creates a grid rotated 30 degrees north of east about the origin <em>lat0, lon0</em> with
grid nodes every 1 km extending +/- 20 and +/- 10 km in the rotated x and y directions, respectively.
<em>grid_size</em> and <em>rotation</em> should not both be used.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="4. Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="2. enveloc Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Aaron Wech

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>